=====================================
  VERSIONING QUICK REFERENCE
=====================================

METHOD A: AUTOMATIC (via GitHub Actions)
=========================================

1) Auto-bump PATCH on push:
   git commit -m "your message [release]"
   git push origin main
   → CI creates tag v0.1.1 (then v0.1.2, v0.1.3, ...)

2) Manual version via UI:
   - GitHub repo → Actions → Release & Tag → Run workflow
   - Input version (e.g., 0.4.0) or leave empty for auto-bump
   - CI creates tag + Release


METHOD B: MANUAL TAGGING (Local)
=================================

1) Auto-bump PATCH locally:
   LAST=$(git describe --tags --abbrev=0 2>/dev/null | sed 's/^v//')
   [ -z "$LAST" ] && LAST="0.1.0"
   IFS='.' read -r MA MI PA <<<"$LAST"
   PA=$((PA+1))
   V="${MA}.${MI}.${PA}"
   git tag -a "v$V" -m "Release v$V"
   git push origin "v$V"

2) Manual specific version:
   git tag -a "v0.4.0" -m "Release v0.4.0"
   git push origin "v0.4.0"

3) Build locally with version:
   dotnet publish src/ProxyForwarder.App/ProxyForwarder.App.csproj `
     -c Release -r win-x64 --self-contained true `
     /p:Version=0.4.1 `
     -o out/win-x64


QUICK CHECKS
============

View latest tag:
  git describe --tags --abbrev=0

View all tags (newest first):
  git tag -l --sort=-version:refname | head -10

Check app version display:
  - Run app → title bar shows "Proxy Forwarder  vX.Y.Z"


FILES INVOLVED
==============

Configuration:
  - Directory.Build.props          (version properties)
  - .github/workflows/release-tag.yml  (CI workflow)
  - src/ProxyForwarder.App/MainWindow.xaml.cs  (version display)

Documentation:
  - VERSIONING.md                  (full guide)
  - ci-auto-tag-release.patch      (git patch file)


TYPICAL WORKFLOW
================

Regular update with auto version:
  1. Make changes
  2. git commit -m "feat: add feature [release]"
  3. git push origin main
  4. ✓ CI auto-tags (v0.1.2 → v0.1.3)

Specific version manually:
  1. Make changes
  2. git push origin main (no [release])
  3. GitHub Actions → Release & Tag → Run workflow
  4. Enter version (e.g., 0.5.0)
  5. ✓ CI creates tag v0.5.0


TAGS FORMAT
===========

Must be: vX.Y.Z (e.g., v0.3.2)
  - Semantic versioning
  - Prefix with 'v'
  - Numbers only (dots between)

Examples: v0.1.0, v1.2.3, v0.15.7
